# SwiftTUI入門編 - ターミナルで動くSwiftUIを理解する

## はじめに

SwiftTUIは、SwiftUIのように宣言的にターミナルアプリケーション（TUI）を作れるフレームワークです。このドキュメントでは、TUIやターミナルの基本概念を学びながら、SwiftTUIがどのようにSwiftUIの世界をターミナルに持ち込んでいるかを理解していきます。

## 1. ターミナルとTUIの基本

### 1.1 ターミナルとは

ターミナル（端末）は、テキストベースでコンピュータと対話するためのインタフェースです。

```
┌─────────────────────────────┐
│ $ ls                        │  ← コマンドを入力
│ Documents Downloads Desktop │  ← 結果が表示される
│ $ _                         │  ← カーソル（入力待ち）
└─────────────────────────────┘
```

### 1.2 TUI（Terminal User Interface）とは

TUIは、ターミナル上で動作するグラフィカルなユーザーインタフェースです。文字、色、枠線を使って、GUIのような見た目を実現します。

```
┌─────────────────────────────┐
│      ユーザー登録フォーム     │
├─────────────────────────────┤
│ 名前: [_______________]     │
│ 年齢: [___]                 │
│                             │
│ [  送信  ]  [ キャンセル ]   │
└─────────────────────────────┘
```

### 1.3 なぜSwiftTUIが必要？

通常、TUIを作るには：
- 文字の位置を座標で指定
- 色やスタイルを手動で管理
- 画面の更新を自分で制御

これは大変です！ SwiftTUIなら、SwiftUIと同じように宣言的に書けます。

## 2. SwiftUIからSwiftTUIへ

### 2.1 同じ書き方で動く

SwiftUIでボタンを作る場合：
```swift
// SwiftUI
Button("クリックして") {
    print("ボタンが押された")
}
```

SwiftTUIでも全く同じ：
```swift
// SwiftTUI
Button("クリックして") {
    print("ボタンが押された")
}
```

### 2.2 レイアウトも同じ

```swift
// 縦に並べる
VStack {
    Text("こんにちは")
    Text("SwiftTUI")
    Button("OK") { }
}
```

これがターミナルでこう表示されます：
```
こんにちは
SwiftTUI
┌────┐
│ OK │
└────┘
```

## 3. SwiftTUIの魔法 - 仕組みの概要

### 3.1 文字の世界への変換

SwiftTUIは、SwiftUIのViewをターミナルの「文字の世界」に変換します。

```
SwiftUIの世界                 ターミナルの世界
     ↓                            ↓
   View                         文字
   色                           ANSIカラーコード
   レイアウト                    文字の位置
   タップ                       キー入力
```

### 3.2 セルという概念

ターミナルの画面は、小さなマス目（セル）の集合体です。

```
┌─┬─┬─┬─┬─┬─┐
│H│e│l│l│o│!│  ← 各マスが1つのセル
└─┴─┴─┴─┴─┴─┘
```

SwiftTUIは各セルに：
- 文字（例：'H'）
- 文字の色（例：緑）
- 背景色（例：黒）
- スタイル（例：太字）

を設定できます。

### 3.3 画面の更新

1. あなたがViewを書く
2. SwiftTUIがセルの配置を計算
3. 画面に描画
4. 状態が変わったら2に戻る

```swift
struct CounterView: View {
    @State private var count = 0
    
    var body: some View {
        VStack {
            Text("カウント: \(count)")
            Button("+1") {
                count += 1  // これで自動的に画面更新！
            }
        }
    }
}
```

## 4. 初めてのSwiftTUIアプリ

### 4.1 最小限のアプリ

```swift
import SwiftTUI

struct HelloApp: View {
    var body: some View {
        Text("Hello, Terminal!")
            .foregroundColor(.green)
            .padding()
            .border()
    }
}

// アプリを起動
SwiftTUI.run(HelloApp())
```

実行すると：
```
┌─────────────────────┐
│                     │
│  Hello, Terminal!   │  ← 緑色で表示
│                     │
└─────────────────────┘
```

### 4.2 インタラクティブなアプリ

```swift
struct NameApp: View {
    @State private var name = ""
    
    var body: some View {
        VStack {
            if name.isEmpty {
                Text("お名前を入力してください")
            } else {
                Text("こんにちは、\(name)さん！")
                    .foregroundColor(.cyan)
            }
            
            TextField("名前", text: $name)
                .border()
                .frame(width: 20)
        }
        .padding()
    }
}
```

## 5. キーポイントまとめ

### ターミナルの制約を理解する
- 文字しか表示できない
- 座標は文字単位
- 色や装飾は限定的

### SwiftTUIの利点
- SwiftUIと同じ書き方
- 自動レイアウト計算
- 状態管理が簡単
- 差分更新で高速

### 次のステップ
- より複雑なレイアウト
- イベント処理の詳細
- カスタムコンポーネント作成

## 6. よくある質問

**Q: なぜボタンが緑の枠で表示される？**
A: フォーカスされているボタンを示すためです。Tabキーで他の要素に移動すると白い枠になります。

**Q: 画像は表示できる？**
A: できません。ターミナルは文字ベースなので、文字で表現できるものだけです。

**Q: アニメーションは？**
A: 簡単なものなら可能です。例えば、ProgressViewのスピナーは回転アニメーションします。

## まとめ

SwiftTUIは、SwiftUIの「宣言的UI」の考え方をターミナルに持ち込みます。あなたは「何を表示したいか」を書くだけで、「どうやって表示するか」はSwiftTUIが面倒を見てくれます。

次の中級編では、実際にどのようにレンダリングやイベント処理が行われているかを見ていきましょう！